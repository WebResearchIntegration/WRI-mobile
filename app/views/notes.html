<div ng-include="'views/include/nav.html'" ng-controller="NavCtrl as nav"></div>

<div class="container-fluid" style="background: #eee;">
    <div class="row wri_list" ng-hide="viewer == true">

        <div class="wri_filter">
            <input class="wri_filter__search col-xs-8" ng-click="searchIsActive = true" type="text" ng-model="search.text" placeholder="&#xF002; Search note">
           <!--  <i class="material-icons wri_filter__cancel" ng-show="search.text.length > 0" ng-click="note.cancelSearch()">close</i>  -->
        </div>
        <!-- <div class="wri_filter" ng-class="{'activeFilter' : searchIsActive == true}" >
            <input class="wri_filter__search col-xs-8" ng-click="searchIsActive = true" type="text" ng-model="search.text" placeholder="&#xF002; Search note">
            <i class="material-icons wri_filter__cancel" ng-show="search.text.length > 0" ng-click="note.cancelSearch()">close</i> 
        </div> -->
        <!-- <div ng-show="searchIsActive == true" class="wri_filter__secondary note_filter">
            <input class="wri_filter__secondary__input" ng-model="search.createdAt"  type="text" placeholder="date of creation">   
            <i class="material-icons wri_filter__secondary__hide" ng-click="searchIsActive = false">vertical_align_top</i>
        </div> -->

        <div class="wri-card col-sm row" ng-repeat="n in note.notes"  ng-click="note.openViewer(n);">
            <div class="note card-left">
                <h3>24</h3>
                <span>DEC</span>
                <span>2017</span>
            </div>
            <div class="card-middle">
                <span ng-bind-html="n.text | limitTo : 70" class="card-middle-limit" style="width: 150px; height: 50px"></span>
            </div>
        </div>
    </div>
    <div class="wri_viewer" ng-if="viewer == true">
        <div>
            <span class="pull-right" ng-click="note.closeViewer()"><i class="material-icons wri_viewer__close" style="margin: 8px">close</i></span>  

            <div class="wri_viewer__content">
                <div class="wri_viewer__content__note">
                    
                    <div class="">
                        <div style="margin-bottom: 20px; font-style: italic;">{{note.currentNote.createdAt}} : </div>
                        <div style="color: black"><strong ng-bind-html="note.currentNote.text"></strong></div>
                    </div>
                    
                </div>
            </div>

        </div>
    </div>
</div>